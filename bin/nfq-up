#!/usr/bin/env node

const program = require('commander');
const spawn = require('child_process').spawn;
const chalk = require('chalk');

program
  .option('-d [default]', 'run in background')
  .option('* [optional]', 'you could pass all docker-compose arguments')
  .parse(process.argv)
  .rawArgs.push('up', '-d');

const docker = spawn('docker-compose', program.rawArgs.splice(2));

docker.stdout.on('data', data => console.log(`${chalk.yellow.bold('update info:')} ${data}`));
docker.stderr.on('data', data => console.log(`${chalk.red.bold('update error:')} ${data}`));
