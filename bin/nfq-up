#!/usr/bin/env node

const program = require('commander');
const spawn = require('child_process').spawn;
const chalk = require('chalk');
const LOGO = chalk.bold.yellow(' NFQ ');

program
  .option('-d [default]', 'run in background')
  .option('* [optional]', 'you could pass all docker-compose arguments')
  .parse(process.argv)
  .rawArgs.push('up', '-d');

const docker = spawn('docker-compose', program.rawArgs.splice(2), { stdio: 'inherit' });

docker.on('exit', (error) => {
  if (!error) {
    console.log(`${LOGO} ${chalk.green('Success!')}`);
  } else {
    console.log(`${LOGO} ${chalk.red('Error!')}`);
  }
});
